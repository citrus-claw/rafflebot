(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{333:(e,t,a)=>{"use strict";a.d(t,{Ih:()=>i,cd:()=>f,PQ:()=>x,ps:()=>u,$m:()=>c,mm:()=>m,gg:()=>d,kP:()=>o});var n=a(6465);let s=JSON.parse('{"address":"HrfWNd6ayFHgf23XxLpHtBKY9TfjviiwBpXtdis8MDGU","metadata":{"name":"rafflebot","version":"0.1.0","spec":"0.1.0","description":"AI agent that creates and runs provably fair raffles on Solana"},"instructions":[{"name":"buy_tickets","docs":["Buy tickets for a raffle"],"discriminator":[48,16,122,137,24,214,198,58],"accounts":[{"name":"raffle","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,97,102,102,108,101]},{"kind":"account","path":"raffle.authority","account":"Raffle"},{"kind":"account","path":"raffle.name","account":"Raffle"}]}},{"name":"entry","writable":true,"pda":{"seeds":[{"kind":"const","value":[101,110,116,114,121]},{"kind":"account","path":"raffle"},{"kind":"account","path":"buyer"}]}},{"name":"escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[101,115,99,114,111,119]},{"kind":"account","path":"raffle"}]}},{"name":"buyer_token_account","writable":true},{"name":"token_mint"},{"name":"buyer","writable":true,"signer":true},{"name":"token_program"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"num_tickets","type":"u32"}]},{"name":"cancel_raffle","docs":["Cancel raffle and enable refunds (authority only, or auto after deadline if threshold not met)"],"discriminator":[135,191,223,141,192,186,234,254],"accounts":[{"name":"raffle","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,97,102,102,108,101]},{"kind":"account","path":"raffle.authority","account":"Raffle"},{"kind":"account","path":"raffle.name","account":"Raffle"}]}},{"name":"authority","docs":["Can be authority OR anyone (if deadline passed + threshold not met)"],"signer":true}],"args":[]},{"name":"claim_prize","docs":["Claim prize (winner calls this with their entry)"],"discriminator":[157,233,139,121,246,62,234,235],"accounts":[{"name":"raffle","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,97,102,102,108,101]},{"kind":"account","path":"raffle.authority","account":"Raffle"},{"kind":"account","path":"raffle.name","account":"Raffle"}]}},{"name":"winner_entry","pda":{"seeds":[{"kind":"const","value":[101,110,116,114,121]},{"kind":"account","path":"raffle"},{"kind":"account","path":"winner"}]}},{"name":"escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[101,115,99,114,111,119]},{"kind":"account","path":"raffle"}]}},{"name":"winner_token_account","writable":true},{"name":"platform_token_account","writable":true},{"name":"token_mint"},{"name":"winner"},{"name":"token_program"}],"args":[]},{"name":"claim_refund","docs":["Claim refund (for cancelled raffles)"],"discriminator":[15,16,30,161,255,228,97,60],"accounts":[{"name":"raffle","pda":{"seeds":[{"kind":"const","value":[114,97,102,102,108,101]},{"kind":"account","path":"raffle.authority","account":"Raffle"},{"kind":"account","path":"raffle.name","account":"Raffle"}]}},{"name":"entry","writable":true,"pda":{"seeds":[{"kind":"const","value":[101,110,116,114,121]},{"kind":"account","path":"raffle"},{"kind":"account","path":"buyer"}]}},{"name":"escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[101,115,99,114,111,119]},{"kind":"account","path":"raffle"}]}},{"name":"buyer_token_account","writable":true},{"name":"token_mint"},{"name":"buyer"},{"name":"token_program"}],"args":[]},{"name":"commit_draw","docs":["Phase 1: Commit to Switchboard randomness (authority calls after deadline)","Bundle this instruction with Switchboard\'s commitIx in the same tx"],"discriminator":[210,106,32,68,253,95,229,1],"accounts":[{"name":"raffle","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,97,102,102,108,101]},{"kind":"account","path":"raffle.authority","account":"Raffle"},{"kind":"account","path":"raffle.name","account":"Raffle"}]}},{"name":"authority","signer":true,"relations":["raffle"]},{"name":"randomness_account"}],"args":[]},{"name":"create_raffle","docs":["Create a new raffle (agent-only in practice, but permissionless on-chain)"],"discriminator":[226,206,159,34,213,207,98,126],"accounts":[{"name":"raffle","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,97,102,102,108,101]},{"kind":"account","path":"authority"},{"kind":"arg","path":"name"}]}},{"name":"escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[101,115,99,114,111,119]},{"kind":"account","path":"raffle"}]}},{"name":"token_mint","docs":["The SPL token mint (e.g., USDC)"]},{"name":"platform_wallet","docs":["Platform wallet to receive fees"]},{"name":"authority","writable":true,"signer":true},{"name":"token_program"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"name","type":"string"},{"name":"ticket_price","type":"u64"},{"name":"min_pot","type":"u64"},{"name":"max_per_wallet","type":"u32"},{"name":"end_time","type":"i64"}]},{"name":"settle_draw","docs":["Phase 2: Settle draw using revealed Switchboard randomness","Bundle this instruction with Switchboard\'s revealIx in the same tx"],"discriminator":[175,154,75,30,118,117,107,194],"accounts":[{"name":"raffle","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,97,102,102,108,101]},{"kind":"account","path":"raffle.authority","account":"Raffle"},{"kind":"account","path":"raffle.name","account":"Raffle"}]}},{"name":"authority","signer":true,"relations":["raffle"]},{"name":"randomness_account"}],"args":[]}],"accounts":[{"name":"Entry","discriminator":[63,18,152,113,215,246,221,250]},{"name":"Raffle","discriminator":[143,133,63,173,138,10,142,200]}],"errors":[{"code":6000,"name":"InvalidEndTime","msg":"End time must be in the future"},{"code":6001,"name":"InvalidTicketPrice","msg":"Ticket price must be greater than 0"},{"code":6002,"name":"InvalidMinPot","msg":"Minimum pot must be greater than 0"},{"code":6003,"name":"MinPotTooLow","msg":"Minimum pot must be >= ticket price"},{"code":6004,"name":"InvalidName","msg":"Name must be 1-32 characters"},{"code":6005,"name":"RaffleNotActive","msg":"Raffle is not active"},{"code":6006,"name":"RaffleClosed","msg":"Raffle has ended"},{"code":6007,"name":"InvalidTicketCount","msg":"Invalid ticket count"},{"code":6008,"name":"MaxTicketsExceeded","msg":"Maximum tickets per wallet exceeded"},{"code":6009,"name":"Overflow","msg":"Arithmetic overflow"},{"code":6010,"name":"RaffleNotEnded","msg":"Raffle has not ended yet"},{"code":6011,"name":"NoTickets","msg":"No tickets sold"},{"code":6012,"name":"ThresholdNotMet","msg":"Minimum pot threshold not met"},{"code":6013,"name":"DrawNotComplete","msg":"Draw not complete"},{"code":6014,"name":"NoWinnerDrawn","msg":"No winner drawn"},{"code":6015,"name":"NotWinner","msg":"Not the winner"},{"code":6016,"name":"CannotCancel","msg":"Cannot cancel raffle"},{"code":6017,"name":"RaffleNotCancelled","msg":"Raffle is not cancelled"},{"code":6018,"name":"NotEntryOwner","msg":"Not the entry owner"},{"code":6019,"name":"AlreadyRefunded","msg":"Already refunded"},{"code":6020,"name":"InvalidRandomnessAccount","msg":"Invalid randomness account"},{"code":6021,"name":"InvalidRandomnessAccountOwner","msg":"Invalid randomness account owner"},{"code":6022,"name":"RandomnessExpired","msg":"Randomness has expired"},{"code":6023,"name":"RandomnessAlreadyRevealed","msg":"Randomness already revealed"},{"code":6024,"name":"RandomnessNotResolved","msg":"Randomness not yet resolved"},{"code":6025,"name":"DrawNotCommitted","msg":"Draw not committed yet"}],"types":[{"name":"Entry","type":{"kind":"struct","fields":[{"name":"raffle","type":"pubkey"},{"name":"buyer","type":"pubkey"},{"name":"start_ticket_index","type":"u32"},{"name":"num_tickets","type":"u32"},{"name":"is_initialized","type":"bool"},{"name":"refunded","type":"bool"},{"name":"bump","type":"u8"}]}},{"name":"Raffle","type":{"kind":"struct","fields":[{"name":"authority","type":"pubkey"},{"name":"name","type":"string"},{"name":"token_mint","type":"pubkey"},{"name":"escrow","type":"pubkey"},{"name":"platform_wallet","type":"pubkey"},{"name":"ticket_price","type":"u64"},{"name":"min_pot","type":"u64"},{"name":"max_per_wallet","type":"u32"},{"name":"end_time","type":"i64"},{"name":"total_tickets","type":"u32"},{"name":"total_pot","type":"u64"},{"name":"status","type":{"defined":{"name":"RaffleStatus"}}},{"name":"winner","type":{"option":"pubkey"}},{"name":"winning_ticket","type":{"option":"u32"}},{"name":"randomness","type":{"option":{"array":["u8",32]}}},{"name":"randomness_account","type":{"option":"pubkey"}},{"name":"commit_slot","type":{"option":"u64"}},{"name":"created_at","type":"i64"},{"name":"bump","type":"u8"},{"name":"escrow_bump","type":"u8"}]}},{"name":"RaffleStatus","type":{"kind":"enum","variants":[{"name":"Active"},{"name":"DrawCommitted"},{"name":"DrawComplete"},{"name":"Claimed"},{"name":"Cancelled"}]}}]}');var r=a(2463).Buffer;let i=s,l=new n.PublicKey("HrfWNd6ayFHgf23XxLpHtBKY9TfjviiwBpXtdis8MDGU");function c(e){return!!e.active}function o(e){return!!e.drawComplete}function d(e){return!!e.claimed}function m(e){return!!e.cancelled}function u(e){return e.active?"Active":e.drawCommitted?"Drawing...":e.drawComplete?"Winner Drawn":e.claimed?"Claimed":e.cancelled?"Cancelled":"Unknown"}function f(e,t){return n.PublicKey.findProgramAddressSync([r.from("entry"),e.toBuffer(),t.toBuffer()],l)}function x(e){return n.PublicKey.findProgramAddressSync([r.from("escrow"),e.toBuffer()],l)}},1083:(e,t,a)=>{"use strict";a.d(t,{MM:()=>d,Nr:()=>c,Wt:()=>o});var n=a(7091),s=a(9738),r=a(875),i=a(7492),l=a(333);function c(){let{program:e,connection:t}=(0,i.g)(),[a,s]=(0,n.useState)([]),[r,c]=(0,n.useState)(!0),[o,d]=(0,n.useState)(null),m=(0,n.useCallback)(async()=>{try{c(!0);let t=await e.account.raffle.all();s(t.map(e=>({publicKey:e.publicKey,account:e.account}))),d(null)}catch(e){console.error("Failed to fetch raffles:",e),d(e)}finally{c(!1)}},[e]);(0,n.useEffect)(()=>{m()},[m]);let u=a.filter(e=>(0,l.$m)(e.account.status)),f=a.filter(e=>!(0,l.$m)(e.account.status));return{raffles:a,activeRaffles:u,endedRaffles:f,loading:r,error:o,refetch:m}}function o(e){let{program:t,connection:a}=(0,i.g)(),[s,r]=(0,n.useState)(null),[l,c]=(0,n.useState)(!0),[o,d]=(0,n.useState)(null),m=(0,n.useCallback)(async()=>{if(e)try{c(!0);let a=await t.account.raffle.fetch(e);r(a),d(null)}catch(e){console.error("Failed to fetch raffle:",e),d(e)}finally{c(!1)}},[t,e]);return(0,n.useEffect)(()=>{m()},[m]),{raffle:s,loading:l,error:o,refetch:m}}function d(e){let{connection:t}=(0,s.w)(),{publicKey:a}=(0,r.v)(),{program:c}=(0,i.g)(),[o,d]=(0,n.useState)(null),[m,u]=(0,n.useState)(!0),f=(0,n.useCallback)(async()=>{if(!e||!a){d(null),u(!1);return}try{u(!0);let[t]=(0,l.cd)(e,a),n=await c.account.entry.fetch(t);d(n)}catch(e){d(null)}finally{u(!1)}},[c,e,a]);return(0,n.useEffect)(()=>{f()},[f]),{entry:o,loading:m,refetch:f}}},3514:()=>{},6459:(e,t,a)=>{"use strict";function n(e){return(e.toNumber()/1e6).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})}function s(e){let t=Math.floor(Date.now()/1e3),a=e.toNumber()-t;if(a<=0)return"Ended";let n=Math.floor(a/86400),s=Math.floor(a%86400/3600),r=Math.floor(a%3600/60);return n>0?"".concat(n,"d ").concat(s,"h"):s>0?"".concat(s,"h ").concat(r,"m"):"".concat(r,"m")}function r(e){return new Date(1e3*e.toNumber()).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function i(e){return new Date(1e3*e.toNumber()).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function l(e){return"".concat(e.slice(0,4),"…").concat(e.slice(-4))}a.d(t,{$B:()=>s,Vx:()=>n,Wr:()=>l,Yq:()=>r,r6:()=>i})},7492:(e,t,a)=>{"use strict";a.d(t,{_:()=>o,g:()=>d});var n=a(7091),s=a(9738),r=a(875),i=a(1084),l=a(6465),c=a(333);function o(){let{connection:e}=(0,s.w)(),t=(0,r.v)(),a=(0,n.useMemo)(()=>{if(!t.publicKey||!t.signTransaction||!t.signAllTransactions)return null;let a={publicKey:t.publicKey,signTransaction:t.signTransaction,signAllTransactions:t.signAllTransactions};return new i.NQ(e,a,{commitment:"confirmed"})},[e,t]);return{program:(0,n.useMemo)(()=>a?((0,i.U0)(a),new i.BP(c.Ih,a)):null,[a]),provider:a,connection:e,wallet:t}}function d(){let{connection:e}=(0,s.w)();return{program:(0,n.useMemo)(()=>{let t={publicKey:l.PublicKey.default,signTransaction:async()=>{throw Error("Read-only")},signAllTransactions:async()=>{throw Error("Read-only")}},a=new i.NQ(e,t,{commitment:"confirmed"});return new i.BP(c.Ih,a)},[e]),connection:e}}},8638:(e,t,a)=>{Promise.resolve().then(a.bind(a,9374))},9374:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var n=a(2115),s=a(1083),r=a(7235),i=a.n(r),l=a(333),c=a(6459);function o(e){let{count:t=14}=e;return(0,n.jsx)("div",{className:"flex justify-around",style:{margin:"0 6px"},children:Array.from({length:t}).map((e,t)=>(0,n.jsx)("div",{className:"rounded-full bg-paper",style:{width:10,height:10,marginTop:-5,position:"relative",zIndex:10}},t))})}function d(e){let{count:t=14}=e;return(0,n.jsx)("div",{className:"flex justify-around",style:{margin:"0 6px"},children:Array.from({length:t}).map((e,t)=>(0,n.jsx)("div",{className:"rounded-full bg-paper",style:{width:10,height:10,marginBottom:-5,position:"relative",zIndex:10}},t))})}function m(e){let{publicKey:t,raffle:a}=e,s=(0,l.$m)(a.status),r=(0,c.$B)(a.endTime),m=a.minPot.toNumber()>0?Math.min(100,a.totalPot.toNumber()/a.minPot.toNumber()*100):100;return s?(0,n.jsxs)(i(),{href:"/raffle/".concat(t.toBase58()),className:"group block w-full max-w-sm",children:[(0,n.jsx)("div",{className:"rounded-t-xl bg-carnival-red",style:{paddingTop:1},children:(0,n.jsx)(o,{})}),(0,n.jsx)("div",{className:"overflow-hidden bg-carnival-red shadow-xl",children:(0,n.jsxs)("div",{className:"px-5 pt-2 pb-4",children:[(0,n.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-red-800 text-xs font-black text-red-200",children:"R"}),(0,n.jsxs)("div",{className:"text-[10px] font-bold uppercase tracking-wider text-red-200/60",children:["Raffle #",t.toBase58().slice(0,8)]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1.5 rounded-full bg-white/20 px-3 py-1",children:[(0,n.jsx)("div",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-300"}),(0,n.jsx)("span",{className:"text-[10px] font-bold uppercase text-white",children:"Open"})]})]}),(0,n.jsx)("h3",{className:"mb-3 text-balance text-2xl font-black leading-tight text-white",children:a.name}),(0,n.jsx)("div",{className:"mb-3 overflow-hidden rounded-xl bg-white/15 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"grid grid-cols-2",children:[(0,n.jsxs)("div",{className:"border-r border-white/10 p-3 text-center",children:[(0,n.jsx)("div",{className:"text-[9px] font-bold uppercase tracking-widest text-red-200/70",children:"Prize Pool"}),(0,n.jsx)("div",{className:"text-2xl font-black text-white",children:(0,c.Vx)(a.minPot)})]}),(0,n.jsxs)("div",{className:"p-3 text-center",children:[(0,n.jsx)("div",{className:"text-[9px] font-bold uppercase tracking-widest text-red-200/70",children:"Per Ticket"}),(0,n.jsx)("div",{className:"text-2xl font-black text-white",children:(0,c.Vx)(a.ticketPrice)})]})]})}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsxs)("div",{className:"mb-1.5 flex items-center justify-between text-xs",children:[(0,n.jsxs)("span",{className:"text-red-100",children:[(0,n.jsx)("strong",{className:"text-white",children:a.totalTickets})," tickets sold"]}),"Ended"!==r&&(0,n.jsx)("span",{className:"rounded bg-white/15 px-2 py-0.5 font-mono text-[10px] font-bold text-white",children:r})]}),(0,n.jsx)("div",{className:"h-2.5 overflow-hidden rounded-full bg-red-800/50",children:(0,n.jsx)("div",{className:"h-full rounded-full bg-white/80 transition-all",style:{width:"".concat(m,"%")}})}),(0,n.jsxs)("div",{className:"mt-1 text-right text-[9px] text-red-200/60",children:[Math.round(m),"% of min pot"]})]}),(0,n.jsx)("button",{className:"w-full rounded-xl bg-white py-2.5 text-sm font-black uppercase tracking-wider text-carnival-red transition hover:bg-red-50",children:"Enter Raffle ›"})]})}),(0,n.jsx)("div",{className:"rounded-b-xl bg-carnival-red",style:{paddingBottom:1},children:(0,n.jsx)(d,{})})]}):(0,n.jsxs)(i(),{href:"/raffle/".concat(t.toBase58()),className:"group block w-full max-w-sm",children:[(0,n.jsx)("div",{className:"rounded-t-xl bg-stone-400",style:{paddingTop:1},children:(0,n.jsx)(o,{})}),(0,n.jsxs)("div",{className:"relative overflow-hidden bg-stone-400 shadow-xl",children:[(0,n.jsx)("div",{className:"absolute top-[18px] -right-[32px] z-20 rotate-45 bg-carnival-red px-10 py-1 text-[10px] font-black uppercase tracking-widest text-white shadow-lg",style:{boxShadow:"0 2px 8px rgba(0,0,0,0.25)"},children:(0,l.ps)(a.status)}),(0,n.jsxs)("div",{className:"px-5 pt-2 pb-4",children:[(0,n.jsx)("div",{className:"mb-3 flex items-center justify-between",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-stone-500 text-xs font-black text-stone-300",children:"R"}),(0,n.jsxs)("div",{className:"text-[10px] font-bold uppercase tracking-wider text-stone-500",children:["Raffle #",t.toBase58().slice(0,8)]})]})}),(0,n.jsx)("h3",{className:"mb-3 text-balance text-2xl font-black leading-tight text-stone-600",children:a.name}),(0,n.jsx)("div",{className:"mb-3 overflow-hidden rounded-xl bg-stone-500/30",children:(0,n.jsxs)("div",{className:"grid grid-cols-2",children:[(0,n.jsxs)("div",{className:"border-r border-stone-500/30 p-3 text-center",children:[(0,n.jsx)("div",{className:"text-[9px] font-bold uppercase tracking-widest text-stone-500",children:"Prize Pool"}),(0,n.jsx)("div",{className:"text-2xl font-black text-stone-600",children:(0,c.Vx)(a.minPot)})]}),(0,n.jsxs)("div",{className:"p-3 text-center",children:[(0,n.jsx)("div",{className:"text-[9px] font-bold uppercase tracking-widest text-stone-500",children:"Per Ticket"}),(0,n.jsx)("div",{className:"text-2xl font-black text-stone-600",children:(0,c.Vx)(a.ticketPrice)})]})]})}),(0,n.jsxs)("div",{className:"mb-3 text-xs text-stone-500",children:[(0,n.jsx)("strong",{className:"text-stone-600",children:a.totalTickets})," tickets sold"]}),a.winner&&(0,n.jsxs)("div",{className:"rounded-xl border border-amber-600/20 bg-stone-500/30 p-3 text-center",children:[(0,n.jsx)("div",{className:"text-[9px] font-bold uppercase tracking-wider text-amber-700/50",children:"★ Winner ★"}),(0,n.jsxs)("div",{className:"mt-1 font-mono text-base font-black text-stone-700",children:[a.winner.toBase58().slice(0,4),"...",a.winner.toBase58().slice(-4)]})]})]})]}),(0,n.jsx)("div",{className:"rounded-b-xl bg-stone-400",style:{paddingBottom:1},children:(0,n.jsx)(d,{})})]})}var u=a(9389);Date.now(),Date.now(),Date.now(),Date.now();let f=[{icon:"\uD83E\uDD16",label:"The Automaton",value:"AI-Powered, Trustless"},{icon:"\uD83D\uDD12",label:"Provably Fair",value:"Switchboard VRF"},{icon:"\uD83C\uDF9F",label:"On-Chain Tickets",value:"Solana Blockchain"},{icon:"\uD83C\uDFC6",label:"Winner Share",value:"90%"},{icon:"\uD83C\uDFB2",label:"Draw Method",value:"VRF"},{icon:"\uD83C\uDF10",label:"Network",value:"Solana Devnet"}];function x(){return(0,n.jsxs)("div",{className:"relative overflow-hidden bg-ink",children:[(0,n.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 z-10 w-16 bg-gradient-to-r from-ink to-transparent"}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 z-10 w-16 bg-gradient-to-l from-ink to-transparent"}),(0,n.jsx)("div",{className:"animate-marquee flex w-max hover:[animation-play-state:paused]",children:[...f,...f].map((e,t)=>(0,n.jsxs)("div",{className:"flex shrink-0 items-center gap-2 px-7 py-3",children:[(0,n.jsx)("span",{className:"text-sm",children:e.icon}),(0,n.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-wider text-white/50",children:e.label}),(0,n.jsx)("span",{className:"text-[11px] font-bold text-gold",children:e.value}),t<2*f.length-1&&(0,n.jsx)("span",{className:"ml-5 text-white/10",children:"\xb7"})]},t))})]})}function p(e){let{jackpot:t,loading:a}=e;return(0,n.jsxs)("section",{className:"relative overflow-hidden bg-carnival-red py-16 text-center md:py-20",children:[(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.08)_0%,transparent_60%)]"}),(0,n.jsxs)("div",{className:"relative z-10 mx-auto max-w-3xl px-6",children:[(0,n.jsxs)("div",{className:"mb-5 inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-1.5 text-[10px] font-bold uppercase tracking-[0.12em] text-white/70 backdrop-blur-sm",children:[(0,n.jsx)("span",{className:"text-gold",children:"★"}),"The Greatest Protocol on Earth",(0,n.jsx)("span",{className:"text-gold",children:"★"})]}),(0,n.jsxs)("h1",{className:"mb-4 font-display text-5xl leading-[0.95] text-white md:text-7xl",children:["Step Right Up!",(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-white/50",children:"Trust is Code."})]}),(0,n.jsxs)("p",{className:"mx-auto mb-8 max-w-lg text-sm leading-relaxed text-white/60 md:text-base",children:["The thrill of the draw with the security of the blockchain. Just"," ",(0,n.jsx)("strong",{className:"text-white",children:"pure, verifiable math."})]}),(0,n.jsxs)("div",{className:"inline-flex items-center gap-5 rounded-2xl bg-white/10 px-8 py-4 backdrop-blur-sm",children:[(0,n.jsxs)("div",{className:"text-left",children:[(0,n.jsx)("div",{className:"text-[9px] font-bold uppercase tracking-[0.12em] text-gold",children:"Current Jackpot"}),(0,n.jsx)("div",{className:"text-[8px] uppercase tracking-wider text-white/30",children:"Paid out automatically"})]}),(0,n.jsx)("div",{className:"font-display text-4xl text-white",children:a?"...":t.toLocaleString()}),(0,n.jsx)("div",{className:"text-sm font-bold text-white/50",children:"USDC"})]})]})]})}function h(e){let{children:t,isEmpty:a,loading:s,error:r}=e;return(0,n.jsxs)("div",{className:"space-y-5",children:[(0,n.jsx)("h3",{className:"text-center font-display text-2xl text-ink",children:"Now Showing"}),s?(0,n.jsx)("div",{className:"flex h-64 items-center justify-center rounded-xl bg-surface",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-4 text-carnival-red",children:[(0,n.jsx)(u.A,{size:48,className:"animate-bounce"}),(0,n.jsx)("span",{className:"font-display text-xl uppercase tracking-widest",children:"Loading the Attractions..."})]})}):r?(0,n.jsxs)("div",{className:"rounded-xl bg-surface py-10 text-center",children:[(0,n.jsx)("p",{className:"font-display text-xs text-carnival-red",children:"Failed to load raffles"}),(0,n.jsx)("p",{className:"mt-1 text-[10px] text-ink/60",children:r.message})]}):a?(0,n.jsxs)("div",{className:"rounded-xl bg-surface py-14 text-center",children:[(0,n.jsx)("p",{className:"font-display text-sm text-ink/60",children:"The curtains are closed for now..."}),(0,n.jsx)("p",{className:"mt-1 text-[10px] text-ink/40",children:"Check back soon — new raffles created regularly."})]}):(0,n.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t})]})}function b(){let{activeRaffles:e,endedRaffles:t,loading:a,error:r}=(0,s.Nr)(),i=e.reduce((e,t)=>e+t.account.minPot.toNumber()/1e6,0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p,{jackpot:i,loading:a}),(0,n.jsx)(x,{}),(0,n.jsxs)("div",{className:"mx-auto max-w-7xl space-y-10 px-6 py-10",children:[(0,n.jsx)(h,{isEmpty:0===e.length,loading:a,error:r,children:e.map(e=>(0,n.jsx)(m,{publicKey:e.publicKey,raffle:e.account},e.publicKey.toBase58()))}),t.length>0&&(0,n.jsxs)("div",{className:"space-y-5",children:[(0,n.jsx)("h3",{className:"text-center font-display text-2xl text-ink/40",children:"Previous Shows"}),(0,n.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,n.jsx)(m,{publicKey:e.publicKey,raffle:e.account},e.publicKey.toBase58()))})]})]})]})}}},e=>{e.O(0,[692,891,346,696,797,235,523,657,358],()=>e(e.s=8638)),_N_E=e.O()}]);